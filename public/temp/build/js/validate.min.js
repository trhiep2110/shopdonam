function validateForm(e){let t=!0;return $(e).find(".input-field").each(function(){let e=$(this).val(),n=$(this).attr("type");if($(this).removeClass("input-error"),"email"==n&&""!==e&&!isValidEmail(e)){t=!1,$(this).addClass("input-error");$(this).parent().append('<span class="helper text-danger" style="z-index: 999;margin-top: 75px;">Chưa nhập đúng kiểu email</span>')}if(null==e||""==e||void 0==e){t=!1,$(this).addClass("input-error");let e=`<span class="helper text-danger" style="z-index: 999;margin-top: 75px;">${$(this).data("require")}</span>`;$(this).parent().append(e)}}),t}function isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function appendNewComment(e,t){var n=$('<div class="comment-user"><p class="id_user d-none" >commentData.id</p><div class="d-flex" style="align-items: flex-start;"><img src="temp/images/Accountcircle.png" class="comment-user__img" alt=""><div class="comment-user__infor"><p class="name">'+e.user_name+'</p><p class="type">'+e.comment+'</p></div></div><div class="reply"></div>');$(`.${t}`).prepend(n)}$("form .input-field").each(function(){$(this).click(function(){$(this).parent().find(".helper").remove(),$(this).removeClass("input-error")})}),$("body form").on("click",function(e){e.stopPropagation()}),$(' form button[type="submit"]').on("click",function(e){e.preventDefault();let t=$(this).closest("form"),n=t.attr("id"),i=t.data("action");if(validateForm(`#${n}`)){let e=t.serialize();$.ajax({type:"POST",url:i,data:e,success:function(e){alert("Đã gửi thành công !"),$(`#${n} input[type=text], #${n} input[type=email], #${n} textarea`).val("");var t=$("#"+n+" .boxCommentFormReplyID ").attr("id");"boxCommentForm"===n?appendNewComment(e,"comment-list"):n==="boxCommentFormReply_"+t&&appendNewComment(e,"comment-list__child-"+t)},error:function(){console.log("An error occurred.")}})}}),$("body").on("click",function(e){$(".helper").remove(),$(".input-error").removeClass("input-error")}),$(".reply-text__link").on("click",function(e){e.preventDefault(),$(".comment-box.child").addClass("d-none");$(this).closest(".comment-user").find(".comment-box.child").removeClass("d-none")});