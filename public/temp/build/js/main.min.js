function formatNumber(t){return t.toLocaleString("en-US")}$(document).ready(function(){$(".form-add-to-cart").each(function(){var t=$(this).attr("id"),e=$("#"+t+" .numberInput"),a=$("#"+t+" .decreaseButton"),r=$("#"+t+" .increaseButton");a.on("click",function(){var t=parseInt(e.val(),10);t>0&&e.val(t-1)}),r.on("click",function(){var t=parseInt(e.val(),10);e.val(t+1)})})}),$(document).ready(function(){$(".product-infor-main").each(function(){var t=$(this).attr("id"),e=$("#"+t+" .add-to-cart"),a=$(".check-auth").text();e.on("click",function(e){if(e.preventDefault(),1==a){var r=$(this).data("product-id"),c=$(this).data("user-id"),s=$("#"+t+" .thumb-product").attr("src"),o=$("#"+t+" .title-product").text(),n=$("#"+t+" .okPrice-product").text(),i=$("#"+t+" .quantity").val();n=parseFloat(n.replace(/,/g,""));var u=parseInt(i)*n;i>0?$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/addToCart",type:"POST",data:{product_id:r,user_id:c,thumb:s,name:o,price:n,quantity:i,subtotal:u},success:function(t){t.success&&toastr.success(t.message,"Thông báo")},error:function(t){toastr.error("Lỗi thêm giỏ hàng !")}}):toastr.error("Vui lòng nhập số lượng sản phẩm !")}else window.location.href="/login"})})}),$(document).ready(function(){$("#updateCartButton").on("click",function(t){t.preventDefault();var e=[];$(".quantity").each(function(){var t=$(this).data("cart-id"),a=$(this).val();e.push({id:t,quantity:a})}),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/carts/updateQuantities",data:{cart_updates:e},success:function(t){location.reload()},error:function(t){console.log(t)}})})}),$(document).ready(function(){$("#buy-products").click(function(t){t.preventDefault();var e=[];$(".single-item-list").each(function(){var t=$(this).find(".thumb-product").attr("src"),a=$(this).find(".title-product").text(),r=$(this).find(".title-product").attr("href"),c=$(this).find(".price-product").text(),s=$(this).find(".quantity").val(),o=$(this).find(".subtotal").text();e.push({thumb:t,title:a,slug:r,price:c,quantity:s,subtotal:o})}),sessionStorage.setItem("productInfos",JSON.stringify(e)),window.location.href="/checkout"})}),$(document).ready(function(){var t=0,e=sessionStorage.getItem("productInfos");if(e){(e=JSON.parse(e)).forEach(function(e,a){var r=parseFloat(e.subtotal.replace(/,/g,""));t+=r;var c='<div class="single-item-list text-center"><div class="row align-items-center"><div class="col-1">'+a+'</div><div class="col-md-1 col-12"><img class="w-100" src="'+e.thumb+'" alt="'+e.title+'"></div><div class="col-md-4 col-12"><h6 class="title text-start"><a href="'+e.slug+'">'+e.title+'</a></h6></div><div class="col-md-2 col-12"><span class="price">'+e.price+'</span></div><div class="col-md-2 col-12 product-infor form-add-to-cart" ><p>'+e.quantity+'</p></div><div class="col-md-2 col-12"><span class="subtotal">'+e.subtotal+"</span></div></div></div>";$(".infor-product-session").append(c)}),$(".total").append(formatNumber(t)+" VNĐ");var a='<input type="text" name="total" hidden class="total-input" value="'+formatNumber(t)+' VNĐ">';$("#total-price").append(a)}}),$(".address-exist").each(function(){var t=$(this);t.click(function(){var e=t.find(".sdt").text(),a=t.find(".name").text(),r=t.find(".country").text(),c=t.find(".district").text(),s=t.find(".province").text(),o=t.find(".wards").text(),n=t.find(".address").text();$("#form-process-checkout .input-sdt").val(e),$("#form-process-checkout .input-name").val(a),$("#form-process-checkout .input-country").val(r),$("#form-process-checkout .input-province").val(s),$("#form-process-checkout .input-district").val(c),$("#form-process-checkout .input-wards").val(o),$("#form-process-checkout .input-address").val(n)})}),$(".btn-checkout").click(function(){var t=$("#form-process-checkout .input-sdt").val(),e=$("#form-process-checkout .input-name").val(),a=$("#form-process-checkout .input-country").val(),r=$("#form-process-checkout .input-province").val(),c=$("#form-process-checkout .input-district").val(),s=$("#form-process-checkout .input-wards").val(),o=$("#form-process-checkout .input-address").val(),n=[];n.push({sdt:t,name:e,country:a,province:r,district:c,wards:s,address:o}),sessionStorage.setItem("addressInfors",JSON.stringify(n))}),$(document).ready(function(){var t=sessionStorage.getItem("addressInfors");t&&(t=JSON.parse(t)).forEach(function(t,e){var a="<h6>"+t.sdt+","+t.name+t.address+t.wards+t.district+t.province+t.country+"</h6>";$(".infor-address-session").append(a)})});